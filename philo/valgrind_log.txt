==42543== Helgrind, a thread error detector
==42543== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==42543== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==42543== Command: ./philo 2 500 10 10 5
==42543== Parent PID: 366
==42543== 
==42543== ---Thread-Announcement------------------------------------------
==42543== 
==42543== Thread #3 was created
==42543==    at 0x4975CF7: clone (clone.S:62)
==42543==    by 0x490D1EB: create_thread (pthread_create.c:295)
==42543==    by 0x490DC0F: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==42543==    by 0x486F24B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x109763: create_thread (in /root/philosophers/philo/philo)
==42543==    by 0x108BC3: main (in /root/philosophers/philo/philo)
==42543== 
==42543== ---Thread-Announcement------------------------------------------
==42543== 
==42543== Thread #2 was created
==42543==    at 0x4975CF7: clone (clone.S:62)
==42543==    by 0x490D1EB: create_thread (pthread_create.c:295)
==42543==    by 0x490DC0F: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==42543==    by 0x486F24B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x109763: create_thread (in /root/philosophers/philo/philo)
==42543==    by 0x108BC3: main (in /root/philosophers/philo/philo)
==42543== 
==42543== ----------------------------------------------------------------
==42543== 
==42543== Possible data race during write of size 8 at 0x1FFF000540 by thread #3
==42543== Locks held: none
==42543==    at 0x109630: philo_func (in /root/philosophers/philo/philo)
==42543==    by 0x486F41B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x490D5C7: start_thread (pthread_create.c:442)
==42543==    by 0x4975D1B: thread_start (clone.S:79)
==42543== 
==42543== This conflicts with a previous write of size 8 by thread #2
==42543== Locks held: none
==42543==    at 0x109630: philo_func (in /root/philosophers/philo/philo)
==42543==    by 0x486F41B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x490D5C7: start_thread (pthread_create.c:442)
==42543==    by 0x4975D1B: thread_start (clone.S:79)
==42543==  Address 0x1fff000540 is on thread #1's stack
==42543==  in frame #3, created by main (???:)
==42543== 
==42543== ---Thread-Announcement------------------------------------------
==42543== 
==42543== Thread #4 was created
==42543==    at 0x4975CF7: clone (clone.S:62)
==42543==    by 0x490D1EB: create_thread (pthread_create.c:295)
==42543==    by 0x490DC0F: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==42543==    by 0x486F24B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x1097A7: create_thread (in /root/philosophers/philo/philo)
==42543==    by 0x108BC3: main (in /root/philosophers/philo/philo)
==42543== 
==42543== ----------------------------------------------------------------
==42543== 
==42543==  Lock at 0x1FFEFFDFC0 was first observed
==42543==    at 0x4870824: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x1093D3: init_philo (in /root/philosophers/philo/philo)
==42543==    by 0x108BAB: main (in /root/philosophers/philo/philo)
==42543==  Address 0x1ffeffdfc0 is on thread #1's stack
==42543==  in frame #7, created by main (???:)
==42543== 
==42543== Possible data race during read of size 8 at 0x1FFEFF8E98 by thread #4
==42543== Locks held: 1, at address 0x1FFEFFDFC0
==42543==    at 0x109874: check_death (in /root/philosophers/philo/philo)
==42543==    by 0x109ACB: monitor_func (in /root/philosophers/philo/philo)
==42543==    by 0x486F41B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x490D5C7: start_thread (pthread_create.c:442)
==42543==    by 0x4975D1B: thread_start (clone.S:79)
==42543== 
==42543== This conflicts with a previous write of size 8 by thread #2
==42543== Locks held: none
==42543==    at 0x109640: philo_func (in /root/philosophers/philo/philo)
==42543==    by 0x486F41B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x490D5C7: start_thread (pthread_create.c:442)
==42543==    by 0x4975D1B: thread_start (clone.S:79)
==42543==  Address 0x1ffeff8e98 is on thread #1's stack
==42543==  in frame #7, created by main (???:)
==42543== 
==42543== ---Thread-Announcement------------------------------------------
==42543== 
==42543== Thread #1 is the program's root thread
==42543== 
==42543== ----------------------------------------------------------------
==42543== 
==42543== Thread #1: pthread_mutex_destroy of a locked mutex
==42543==    at 0x4870404: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x10A013: destroy_thread (in /root/philosophers/philo/philo)
==42543==    by 0x108BDB: main (in /root/philosophers/philo/philo)
==42543== 
==42543== ----------------------------------------------------------------
==42543== 
==42543== Thread #1's call to pthread_mutex_destroy failed
==42543==    with error code 16 (EBUSY: Device or resource busy)
==42543==    at 0x48704B0: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x10A013: destroy_thread (in /root/philosophers/philo/philo)
==42543==    by 0x108BDB: main (in /root/philosophers/philo/philo)
==42543== 
==42543== ----------------------------------------------------------------
==42543== 
==42543== Thread #4: Exiting thread still holds 1 lock
==42543==    at 0x4909F78: futex_wait (futex-internal.h:146)
==42543==    by 0x4909F78: __lll_lock_wait_private (lowlevellock.c:34)
==42543==    by 0x48F2477: __vfprintf_internal (vfprintf-internal.c:1260)
==42543==    by 0x48E0A63: printf (printf.c:33)
==42543==    by 0x1098C7: check_death (in /root/philosophers/philo/philo)
==42543==    by 0x109ACB: monitor_func (in /root/philosophers/philo/philo)
==42543==    by 0x486F41B: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-arm64-linux.so)
==42543==    by 0x490D5C7: start_thread (pthread_create.c:442)
==42543==    by 0x4975D1B: thread_start (clone.S:79)
==42543== 
==42543== 
==42543== Use --history-level=approx or =none to gain increased speed, at
==42543== the cost of reduced accuracy of conflicting-access information
==42543== For lists of detected and suppressed errors, rerun with: -s
==42543== ERROR SUMMARY: 538 errors from 5 contexts (suppressed: 13 from 12)
